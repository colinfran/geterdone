{"version":3,"sources":["cron.js"],"names":["setCron","val","cronStr","time","j","schedule","scheduleJob","notifier","require","path","notify","title","message","info","icon","join","__dirname","err","response","console","log","updateCron","cancel"],"mappings":";;;;;;;;AAAA;;AAEO,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAC3B,MAAIC,OAAO,GAAG,EAAd;;AACA,MAAID,GAAG,CAACE,IAAJ,KAAa,EAAb,IACFF,GAAG,CAACE,IAAJ,KAAa,EADX,IAEFF,GAAG,CAACE,IAAJ,KAAa,EAFf,EAEmB;AACjBD,IAAAA,OAAO,eAAQD,GAAG,CAACE,IAAZ,aAAP;AACD,GAJD,MAKK,IAAIF,GAAG,CAACE,IAAJ,KAAa,EAAjB,EAAqB;AACxBD,IAAAA,OAAO,cAAP;AACD,GAFI,MAGA,IAAID,GAAG,CAACE,IAAJ,KAAa,GAAjB,EAAsB;AACzBD,IAAAA,OAAO,gBAAP;AACD;;AACD,MAAIE,CAAC,GAAGC,uBAASC,WAAT,CAAqBJ,OAArB,EAA8B,YAAW;AAC/C,QAAMK,QAAQ,GAAGC,OAAO,CAAC,eAAD,CAAxB;;AACA,QAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEAD,IAAAA,QAAQ,CAACG,MAAT,CAAgB;AACZC,MAAAA,KAAK,EAAE,uBADK;AAEZC,MAAAA,OAAO,EAAEX,GAAG,CAACY,IAFD;AAGZC,MAAAA,IAAI,EAAEL,IAAI,CAACM,IAAL,CAAUC,SAAV,EAAqB,oBAArB;AAHM,KAAhB,EAKE,UAASC,GAAT,EAAcC,QAAd,EAAwB,CACtB;AACD,KAPH;AAQD,GAZO,CAAR;;AAaAC,EAAAA,OAAO,CAACC,GAAR,CAAYhB,CAAZ;AACA,SAAOA,CAAP;AACD;;AAEM,SAASiB,UAAT,CAAoBjB,CAApB,EAAsB;AAC3BA,EAAAA,CAAC,CAACkB,MAAF;;AACA,MAAIlB,CAAC,GAAGC,uBAASC,WAAT,CAAqBJ,OAArB,EAA8B,YAAW;AAC/C,QAAMK,QAAQ,GAAGC,OAAO,CAAC,eAAD,CAAxB;;AACA,QAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEAD,IAAAA,QAAQ,CAACG,MAAT,CAAgB;AACZC,MAAAA,KAAK,EAAE,uBADK;AAEZC,MAAAA,OAAO,EAAEX,GAAG,CAACY,IAFD;AAGZC,MAAAA,IAAI,EAAEL,IAAI,CAACM,IAAL,CAAUC,SAAV,EAAqB,oBAArB;AAHM,KAAhB,EAKE,UAASC,GAAT,EAAcC,QAAd,EAAwB,CACtB;AACD,KAPH;AAQD,GAZO,CAAR;;AAaA,SAAOd,CAAP;AAED","sourcesContent":["import {schedule} from 'node-schedule';\n\nexport function setCron(val) {\n  var cronStr = \"\";\n  if (val.time === 15 ||\n    val.time === 30 ||\n    val.time === 45) {\n    cronStr = `*/${val.time} * * * *`\n  }\n  else if (val.time === 60) {\n    cronStr = `0 * * * *`\n  }\n  else if (val.time === 120) {\n    cronStr = `0 */2 * * *`\n  }\n  var j = schedule.scheduleJob(cronStr, function() {\n    const notifier = require('node-notifier');\n    const path = require('path');\n\n    notifier.notify({\n        title: \"Reminder Notification\",\n        message: val.info,\n        icon: path.join(__dirname, './assets/image.png')\n      },\n      function(err, response) {\n        // Response is response from notification\n      });\n  });\n  console.log(j);\n  return j;\n}\n\nexport function updateCron(j){\n  j.cancel();\n  var j = schedule.scheduleJob(cronStr, function() {\n    const notifier = require('node-notifier');\n    const path = require('path');\n\n    notifier.notify({\n        title: \"Reminder Notification\",\n        message: val.info,\n        icon: path.join(__dirname, './assets/image.png')\n      },\n      function(err, response) {\n        // Response is response from notification\n      });\n  });\n  return j;\n\n}\n"],"file":"cron.js"}